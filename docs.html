<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - DevPort</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .code-block {
            position: relative;
        }
        .copy-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            opacity: 0;
            transition: opacity 0.2s;
        }
        .code-block:hover .copy-btn {
            opacity: 1;
        }
        .sidebar-link {
            transition: all 0.2s ease;
        }
        .sidebar-link:hover {
            background-color: rgba(102, 126, 234, 0.1);
            transform: translateX(4px);
        }
        .sidebar-link.active {
            background-color: rgba(102, 126, 234, 0.15);
            border-left: 3px solid #667eea;
            font-weight: 600;
            color: #667eea;
        }
        html {
            scroll-behavior: smooth;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold gradient-bg bg-clip-text text-transparent">DevPort</span>
                    <span class="ml-3 text-gray-400">|</span>
                    <span class="ml-3 text-gray-600">CodeBex APIs</span>
                </div>
                <div class="flex items-center space-x-8">
                    <a href="index.html" class="text-gray-700 hover:text-purple-600 transition">Home</a>
                    <a href="docs.html" class="text-purple-600 font-semibold transition">Docs</a>
                    <a href="playground.html" class="text-gray-700 hover:text-purple-600 transition">Playground</a>
                    <a href="changelog.html" class="text-gray-700 hover:text-purple-600 transition">Changelog</a>
                    <button class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition">Get API Key</button>
                </div>
            </div>
        </div>
    </nav>

    <div class="flex">
        <!-- Sidebar -->
        <aside class="w-64 bg-white border-r border-gray-200 min-h-screen sticky top-16 overflow-y-auto">
            <div class="p-6">
                <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4">Documentation</h3>
                <nav class="space-y-1">
                    <a href="#introduction" class="sidebar-link active block px-3 py-2 rounded-md text-sm text-gray-700">Introduction</a>
                    <a href="#authentication" class="sidebar-link block px-3 py-2 rounded-md text-sm text-gray-700">Authentication</a>
                    <a href="#endpoints" class="sidebar-link block px-3 py-2 rounded-md text-sm text-gray-700">Endpoints</a>
                    <a href="#responses" class="sidebar-link block px-3 py-2 rounded-md text-sm text-gray-700">Response Format</a>
                    <a href="#errors" class="sidebar-link block px-3 py-2 rounded-md text-sm text-gray-700">Error Handling</a>
                    <a href="#rate-limits" class="sidebar-link block px-3 py-2 rounded-md text-sm text-gray-700">Rate Limits</a>
                    <a href="#webhooks" class="sidebar-link block px-3 py-2 rounded-md text-sm text-gray-700">Webhooks</a>
                </nav>

                <div class="mt-8 pt-8 border-t border-gray-200">
                    <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider mb-4">SDKs</h3>
                    <nav class="space-y-1">
                        <a href="#" class="sidebar-link block px-3 py-2 rounded-md text-sm text-gray-700">JavaScript</a>
                        <a href="#" class="sidebar-link block px-3 py-2 rounded-md text-sm text-gray-700">Python</a>
                        <a href="#" class="sidebar-link block px-3 py-2 rounded-md text-sm text-gray-700">Ruby</a>
                        <a href="#" class="sidebar-link block px-3 py-2 rounded-md text-sm text-gray-700">PHP</a>
                    </nav>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-8 max-w-4xl">
            <!-- Introduction Section -->
            <section id="introduction" class="mb-16 fade-in">
                <h1 class="text-4xl font-bold mb-4">Introduction</h1>
                <p class="text-lg text-gray-600 mb-8">Welcome to the CodeBex API documentation. Our RESTful APIs are designed to help you build powerful applications with ease. All requests are made over HTTPS and responses are returned in JSON format.</p>
                
                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-8">
                    <p class="text-blue-700 font-mono text-sm"><strong>Base URL:</strong> https://api.codebex.io/v1</p>
                </div>

                <h2 class="text-2xl font-bold mt-8 mb-4">API Version</h2>
                <p class="text-gray-700 mb-4">The current API version is v1. All endpoints are prefixed with /v1. We maintain backwards compatibility and will announce any breaking changes well in advance.</p>
                
                <h2 class="text-2xl font-bold mt-8 mb-4">Getting Started</h2>
                <p class="text-gray-700 mb-4">To use the CodeBex API, you'll need an API key. You can generate one from your dashboard after signing up.</p>
                
                <div class="code-block mt-4">
                    <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-javascript">const response = await fetch('https://api.codebex.io/v1/users', {
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  }
});
const data = await response.json();
console.log(data);</code></pre>
                </div>
            </section>

            <!-- Authentication Section -->
            <section id="authentication" class="mb-16 scroll-mt-20">
                <h1 class="text-4xl font-bold mb-4">Authentication</h1>
                <p class="text-lg text-gray-600 mb-8">CodeBex API uses API keys to authenticate requests. You can view and manage your API keys in your dashboard.</p>
                
                <h2 class="text-2xl font-bold mt-8 mb-4">API Keys</h2>
                <p class="text-gray-700 mb-4">Include your API key in the Authorization header of all requests:</p>
                
                <div class="code-block mt-4">
                    <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-bash">curl https://api.codebex.io/v1/users \
  -H "Authorization: Bearer sk_live_abc123xyz"</code></pre>
                </div>

                <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 mt-6">
                    <p class="text-yellow-800"><strong>Security Warning:</strong> Keep your API keys secure. Never expose them in client-side code or commit them to version control.</p>
                </div>

                <h2 class="text-2xl font-bold mt-8 mb-4">OAuth 2.0</h2>
                <p class="text-gray-700 mb-4">For applications that need to access user data on behalf of other users, we support OAuth 2.0 authentication flow.</p>
            </section>

            <!-- Endpoints Section -->
            <section id="endpoints" class="mb-16 scroll-mt-20">
                <h1 class="text-4xl font-bold mb-4">API Endpoints</h1>
                <p class="text-lg text-gray-600 mb-8">Complete reference for all available API endpoints.</p>
                
                <div class="space-y-8">
                    <!-- GET /users -->
                    <div class="border border-gray-200 rounded-lg p-6 bg-white">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded font-semibold text-sm">GET</span>
                            <code class="text-lg font-mono">/v1/users</code>
                        </div>
                        <p class="text-gray-700 mb-4">Retrieve a list of all users in your account.</p>
                        
                        <h3 class="font-semibold mb-2">Query Parameters</h3>
                        <div class="bg-gray-50 p-4 rounded mb-4">
                            <ul class="space-y-2 text-sm">
                                <li><code class="bg-white px-2 py-1 rounded">limit</code> - Number of results per page (default: 10)</li>
                                <li><code class="bg-white px-2 py-1 rounded">offset</code> - Number of results to skip</li>
                                <li><code class="bg-white px-2 py-1 rounded">sort</code> - Sort field (created_at, name, email)</li>
                            </ul>
                        </div>

                        <h3 class="font-semibold mb-2">Response</h3>
                        <div class="code-block">
                            <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                            <pre><code class="language-json">{
  "success": true,
  "data": [
    {
      "id": "usr_123",
      "name": "John Doe",
      "email": "john@example.com",
      "created_at": "2024-10-15T10:30:00Z"
    }
  ],
  "meta": {
    "total": 100,
    "page": 1,
    "per_page": 10
  }
}</code></pre>
                        </div>
                    </div>

                    <!-- POST /users -->
                    <div class="border border-gray-200 rounded-lg p-6 bg-white">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded font-semibold text-sm">POST</span>
                            <code class="text-lg font-mono">/v1/users</code>
                        </div>
                        <p class="text-gray-700 mb-4">Create a new user in your account.</p>
                        
                        <h3 class="font-semibold mb-2">Request Body</h3>
                        <div class="code-block mb-4">
                            <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                            <pre><code class="language-json">{
  "name": "Jane Smith",
  "email": "jane@example.com",
  "role": "admin"
}</code></pre>
                        </div>

                        <h3 class="font-semibold mb-2">Response</h3>
                        <div class="code-block">
                            <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                            <pre><code class="language-json">{
  "success": true,
  "data": {
    "id": "usr_124",
    "name": "Jane Smith",
    "email": "jane@example.com",
    "role": "admin",
    "created_at": "2024-10-25T14:22:00Z"
  }
}</code></pre>
                        </div>
                    </div>

                    <!-- GET /users/:id -->
                    <div class="border border-gray-200 rounded-lg p-6 bg-white">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded font-semibold text-sm">GET</span>
                            <code class="text-lg font-mono">/v1/users/:id</code>
                        </div>
                        <p class="text-gray-700 mb-4">Retrieve a specific user by ID.</p>
                        
                        <h3 class="font-semibold mb-2">Response</h3>
                        <div class="code-block">
                            <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                            <pre><code class="language-json">{
  "success": true,
  "data": {
    "id": "usr_123",
    "name": "John Doe",
    "email": "john@example.com",
    "role": "member",
    "created_at": "2024-10-15T10:30:00Z",
    "updated_at": "2024-10-20T08:15:00Z"
  }
}</code></pre>
                        </div>
                    </div>

                    <!-- DELETE /users/:id -->
                    <div class="border border-gray-200 rounded-lg p-6 bg-white">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="bg-red-100 text-red-800 px-3 py-1 rounded font-semibold text-sm">DELETE</span>
                            <code class="text-lg font-mono">/v1/users/:id</code>
                        </div>
                        <p class="text-gray-700 mb-4">Delete a user from your account.</p>
                        
                        <h3 class="font-semibold mb-2">Response</h3>
                        <div class="code-block">
                            <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                            <pre><code class="language-json">{
  "success": true,
  "message": "User deleted successfully"
}</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Response Format Section -->
            <section id="responses" class="mb-16 scroll-mt-20">
                <h1 class="text-4xl font-bold mb-4">Response Format</h1>
                <p class="text-lg text-gray-600 mb-8">All API responses follow a consistent JSON structure to make integration easier.</p>
                
                <h2 class="text-2xl font-bold mt-8 mb-4">Success Response</h2>
                <p class="text-gray-700 mb-4">Successful responses always include a success field set to true and a data field containing the response payload.</p>
                <div class="code-block">
                    <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-json">{
  "success": true,
  "data": {
    "id": "usr_123",
    "name": "John Doe"
  },
  "meta": {
    "timestamp": "2024-10-25T10:30:00Z",
    "version": "2.1.0"
  }
}</code></pre>
                </div>

                <h2 class="text-2xl font-bold mt-8 mb-4">Pagination</h2>
                <p class="text-gray-700 mb-4">List endpoints return paginated results with metadata about the total count and current page.</p>
                <div class="code-block">
                    <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-json">{
  "success": true,
  "data": [...],
  "meta": {
    "total": 100,
    "page": 1,
    "per_page": 10,
    "total_pages": 10
  }
}</code></pre>
                </div>
            </section>

            <!-- Error Handling Section -->
            <section id="errors" class="mb-16 scroll-mt-20">
                <h1 class="text-4xl font-bold mb-4">Error Handling</h1>
                <p class="text-lg text-gray-600 mb-8">CodeBex uses conventional HTTP response codes to indicate the success or failure of an API request.</p>
                
                <div class="space-y-4 mt-8">
                    <div class="flex items-start gap-4 p-4 bg-gray-50 rounded-lg">
                        <span class="font-mono font-bold text-green-600">200</span>
                        <div>
                            <strong>OK</strong>
                            <p class="text-gray-600">Request succeeded</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 bg-gray-50 rounded-lg">
                        <span class="font-mono font-bold text-green-600">201</span>
                        <div>
                            <strong>Created</strong>
                            <p class="text-gray-600">Resource created successfully</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 bg-gray-50 rounded-lg">
                        <span class="font-mono font-bold text-red-600">400</span>
                        <div>
                            <strong>Bad Request</strong>
                            <p class="text-gray-600">Invalid request parameters</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 bg-gray-50 rounded-lg">
                        <span class="font-mono font-bold text-red-600">401</span>
                        <div>
                            <strong>Unauthorized</strong>
                            <p class="text-gray-600">Invalid or missing API key</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 bg-gray-50 rounded-lg">
                        <span class="font-mono font-bold text-red-600">404</span>
                        <div>
                            <strong>Not Found</strong>
                            <p class="text-gray-600">Resource does not exist</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 bg-gray-50 rounded-lg">
                        <span class="font-mono font-bold text-red-600">429</span>
                        <div>
                            <strong>Too Many Requests</strong>
                            <p class="text-gray-600">Rate limit exceeded</p>
                        </div>
                    </div>
                    <div class="flex items-start gap-4 p-4 bg-gray-50 rounded-lg">
                        <span class="font-mono font-bold text-red-600">500</span>
                        <div>
                            <strong>Internal Server Error</strong>
                            <p class="text-gray-600">Something went wrong on our end</p>
                        </div>
                    </div>
                </div>

                <h2 class="text-2xl font-bold mt-8 mb-4">Error Response Format</h2>
                <p class="text-gray-700 mb-4">Error responses include a success field set to false and an error object with details.</p>
                <div class="code-block">
                    <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-json">{
  "success": false,
  "error": {
    "code": "invalid_request",
    "message": "Missing required parameter: email",
    "field": "email",
    "details": {
      "required_fields": ["name", "email"]
    }
  }
}</code></pre>
                </div>
            </section>

            <!-- Rate Limits Section -->
            <section id="rate-limits" class="mb-16 scroll-mt-20">
                <h1 class="text-4xl font-bold mb-4">Rate Limits</h1>
                <p class="text-lg text-gray-600 mb-8">API requests are rate limited to ensure fair usage and platform stability.</p>
                
                <div class="bg-purple-50 border-l-4 border-purple-500 p-4 mb-8">
                    <p class="text-purple-700"><strong>Default Limit:</strong> 1,000 requests per hour per API key</p>
                    <p class="text-purple-700 mt-2"><strong>Burst Limit:</strong> 100 requests per minute</p>
                </div>

                <h2 class="text-2xl font-bold mt-8 mb-4">Rate Limit Headers</h2>
                <p class="text-gray-700 mb-4">Every API response includes rate limit information in the headers:</p>
                <div class="code-block">
                    <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-bash">X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 847
X-RateLimit-Reset: 1697385600</code></pre>
                </div>

                <h2 class="text-2xl font-bold mt-8 mb-4">Handling Rate Limits</h2>
                <p class="text-gray-700 mb-4">When you exceed the rate limit, you'll receive a 429 status code. Implement exponential backoff in your application:</p>
                <div class="code-block">
                    <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-javascript">async function makeRequest(url, retries = 3) {
  try {
    const response = await fetch(url);
    if (response.status === 429 && retries > 0) {
      const retryAfter = response.headers.get('Retry-After');
      await new Promise(resolve => setTimeout(resolve, retryAfter * 1000));
      return makeRequest(url, retries - 1);
    }
    return response;
  } catch (error) {
    throw error;
  }
}</code></pre>
                </div>
            </section>

            <!-- Webhooks Section -->
            <section id="webhooks" class="mb-16 scroll-mt-20">
                <h1 class="text-4xl font-bold mb-4">Webhooks</h1>
                <p class="text-lg text-gray-600 mb-8">Receive real-time notifications about events in your account via HTTP POST requests to your server.</p>
                
                <h2 class="text-2xl font-bold mt-8 mb-4">Setting Up Webhooks</h2>
                <p class="text-gray-700 mb-4">Configure webhook endpoints in your dashboard. Each webhook URL will receive HTTP POST requests when events occur.</p>
                
                <div class="code-block">
                    <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-json">{
  "event": "user.created",
  "data": {
    "id": "usr_123",
    "name": "John Doe",
    "email": "john@example.com"
  },
  "timestamp": "2024-10-25T10:30:00Z",
  "webhook_id": "wh_abc123"
}</code></pre>
                </div>

                <h2 class="text-2xl font-bold mt-8 mb-4">Available Events</h2>
                <ul class="space-y-3 text-gray-700">
                    <li class="flex items-start gap-3">
                        <span class="w-2 h-2 bg-purple-600 rounded-full mt-2"></span>
                        <div>
                            <code class="bg-gray-100 px-2 py-1 rounded text-sm">user.created</code>
                            <p class="text-sm text-gray-600 mt-1">Triggered when a new user is created</p>
                        </div>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="w-2 h-2 bg-purple-600 rounded-full mt-2"></span>
                        <div>
                            <code class="bg-gray-100 px-2 py-1 rounded text-sm">user.updated</code>
                            <p class="text-sm text-gray-600 mt-1">Triggered when user information is updated</p>
                        </div>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="w-2 h-2 bg-purple-600 rounded-full mt-2"></span>
                        <div>
                            <code class="bg-gray-100 px-2 py-1 rounded text-sm">user.deleted</code>
                            <p class="text-sm text-gray-600 mt-1">Triggered when a user is deleted</p>
                        </div>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="w-2 h-2 bg-purple-600 rounded-full mt-2"></span>
                        <div>
                            <code class="bg-gray-100 px-2 py-1 rounded text-sm">order.completed</code>
                            <p class="text-sm text-gray-600 mt-1">Triggered when an order is successfully processed</p>
                        </div>
                    </li>
                    <li class="flex items-start gap-3">
                        <span class="w-2 h-2 bg-purple-600 rounded-full mt-2"></span>
                        <div>
                            <code class="bg-gray-100 px-2 py-1 rounded text-sm">payment.failed</code>
                            <p class="text-sm text-gray-600 mt-1">Triggered when a payment fails</p>
                        </div>
                    </li>
                </ul>

                <h2 class="text-2xl font-bold mt-8 mb-4">Verifying Webhooks</h2>
                <p class="text-gray-700 mb-4">Verify webhook signatures to ensure requests are from CodeBex:</p>
                <div class="code-block">
                    <button class="copy-btn bg-gray-700 text-white px-3 py-1 rounded text-sm hover:bg-gray-600" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-javascript">const crypto = require('crypto');

function verifyWebhook(payload, signature, secret) {
  const hmac = crypto.createHmac('sha256', secret);
  const digest = hmac.update(payload).digest('hex');
  return crypto.timingSafeEqual(
    Buffer.from(signature),
    Buffer.from(digest)
  );
}</code></pre>
                </div>
            </section>
        </main>
    </div>

    <script>
        function copyCode(btn) {
            const codeBlock = btn.parentElement.querySelector('code');
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const originalText = btn.textContent;
                btn.textContent = 'Copied!';
                btn.classList.add('bg-green-600');
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.classList.remove('bg-green-600');
                }, 2000);
            });
        }

        // Update active sidebar link on scroll
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const id = entry.target.getAttribute('id');
                    document.querySelectorAll('.sidebar-link').forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${id}`) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, { rootMargin: '-100px 0px -66%' });

        document.querySelectorAll('section[id]').forEach(section => {
            observer.observe(section);
        });

        Prism.highlightAll();
    </script>
</body>
</html>